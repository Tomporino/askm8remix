{% extends 'layout.html' %}

{% block content %}
    <div class="question">
        <div class="q_main">
            <div><h2>{{ question.title }}</h2></div>
            <div><p>{{ question.message }}</p></div>
            <div class="sub_data">
                <div><p>{{ question.submission_time.strftime('%Y-%m-%d ') }}</p></div>
                <div><p>{{ question.view_number }}</p></div>
                <div><p>{{ question.vote_number }}</p></div>
                <div></div>
            </div>
            <div class="question_buttons">
                <div><a href="{{ url_for('upvote_question', question_id=question.id) }}"><button>Upvote</button></a></div>
                <div><a href="{{ url_for('edit_question', question_id=question.id) }}"><button>Edit</button></a></div>
                <div><a href="{{ url_for('delete_question', question_id=question.id) }}"><button>Remove</button></a></div>
                <div></div>
            </div>
        </div>
        <div></div>
    </div>
    <div class="answer-head-text">
        <h1>Answers:</h1>
    </div>
    <div class="answers">
        {% for answer in answers %}
        <div class="q_answer">
            <div class="answer-message-part">
            <div><h4>{{ answer.message }}</h4></div>
            <div><p>{{ answer.submission_time }}</p></div>
            <div class="answer_buttons">
                <div><a href="{{ url_for('edit_answer', answer_id=answer.id) }}"><button>Edit</button></a></div>
                <div><a href="{{ url_for('add_comment_to_answer', answer_id=answer.id) }}"><button>Comment</button></a></div>
                <div><a href="{{ url_for('delete_answer', answer_id=answer.id) }}" onclick="return confirm('Are you sure you want to delete this item?');"><img src="http://icons.iconarchive.com/icons/icons8/windows-8/48/Industry-Trash-icon.png" height="16" width="13"></a></div>
                <div></div>
            </div>
            </div>
            <div class="answer-comment-part">
            {% for comment in comments %}
                    {% if comment.answer_id == answer.id%}
                        <div class="q_answ_comm"><h5>{{ comment.message }}</h5></div>
                        <div class="q_answ_comm"><p>{{ comment.submission_time }}</p></div>
                        <div class="comment_button">
                            <div class="q_answ_comm"><a href="{{ url_for('edit_comment', comment_id=comment.id) }}"><button>Edit</button></a></div>
                            <div class="q_answ_comm"><a href="{{ url_for('delete_comment', comment_id=comment.id) }}" onclick="return confirm('Are you sure you want to delete this item?');"><img src="http://icons.iconarchive.com/icons/icons8/windows-8/48/Industry-Trash-icon.png" height="16" width="13"></a></div>
                            <div></div>
                            <div></div>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endfor %}
        </div>
        </div>
        </div>
        <div class="answer-message">
            <form name="question" method="post" enctype="multipart/form-data">
                <div><h3>Your answer:</h3></div>
                    <div><textarea name="answer_message"  cols="50" rows="8"></textarea></div>
                <button type="submit">Submit</button>
                <div>
                    <input type="file" id="img" name="image" >
                </div>
            </form>
        </div>



{% endblock %}