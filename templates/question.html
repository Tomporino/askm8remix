{% extends 'layout.html' %}

{% block content %}
    <div class="question_page">
        <div>
            <div class="question">
                <div class="q_main">
                    <div><h2>{{ question.title }}</h2></div>
                    <div><p>{{ question.message }}</p></div>
                    <div class="sub_data">
                        <div><p>{{ question.submission_time.strftime('%Y-%m-%d ') }}</p></div>
                        <div><p>{{ question.view_number }}</p></div>
                        <div><p>{{ question.vote_number }}</p></div>
                        <div></div>
                    </div>
                    <div class="question_buttons">
                        <a href="{{ url_for('upvote_question', question_id=question.id) }}"><div><i class="glyphicon glyphicon-thumbs-up"></i></div></a>
                        <a href="{{ url_for('edit_question', question_id=question.id) }}"><div><i class="glyphicon glyphicon-pencil"></i></div></a>
                        <a href="{{ url_for('delete_question', question_id=question.id) }}"><div><i class="glyphicon glyphicon-trash"></i></div></a>
                        <div></div>
                    </div>
                </div>
                <div></div>
            </div>
            <div class="answers_comments">
                <div>
                    <div class="answer-head-text">
                        <h1>Answers:</h1>
                    </div>
                    <div>
                        <div class="answers">
                            {% for answer in answers %}
                                <div id="answer">
                                    <div id="answer_main">
                                        <div id="answ_mssg"><p><i class="glyphicon glyphicon-chevron-right"></i> {{ answer.message }}
                                        </p></div>
                                        <div class="sub_data"><p>{{ answer.submission_time.strftime('%Y-%m-%d ') }}</p>
                                        </div>
                                        <div class="answer_buttons">
                                            <a href="{{ url_for('edit_answer', answer_id=answer.id) }}"><div><i class="glyphicon glyphicon-pencil"></i></div></a>
                                            <a href="{{ url_for('add_comment_to_answer', answer_id=answer.id) }}"><div><i class="glyphicon glyphicon-comment"></i></div></a>
                                            <a href="{{ url_for('delete_answer', answer_id=answer.id) }}" onclick="return confirm('Are you sure you want to delete this item?');"><div><i class="glyphicon glyphicon-trash"></i></div></a>
                                            <div></div>
                                        </div>
                                    </div>
                                    <div id="comments">
                                        <div></div>
                                        <div>
                                            {% for comment in comments %}
                                                {% if comment.answer_id == answer.id %}
                                                    <div id="comment">
                                                        <div><p><i class="glyphicon glyphicon-circle-arrow-right"></i> {{ comment.message }}</p>
                                                            <div class="sub_data" id="comment">
                                                                <div><p>{{ comment.submission_time.strftime('%Y-%m-%d ') }}</p></div>
                                                                <a href="{{ url_for('edit_comment', comment_id=comment.id) }}"><div class="q_answ_comm" id="comment_button"><i class="glyphicon glyphicon-pencil"></i></div></a>
                                                                <a href="{{ url_for('delete_comment', comment_id=comment.id) }}" onclick="return confirm('Are you sure you want to delete this item?');"><div class="q_answ_comm"><i class="glyphicon glyphicon-trash"></i></div></a>
                                                                <div></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                {% endif %}
                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            {% endfor %}
                            <div class="answer-message">
                                <form name="question" method="post" enctype="multipart/form-data">
                                    <div><h3>Your answer:</h3></div>
                                    <div>
                                        <textarea name="answer_message" cols="50" rows="8"></textarea>
                                    </div>

                                    <button id="submit_button" type="submit" class="buttons">Submit</button>
                                    {#<div>#}
                                    {#    <input type="file" id="img" name="image" class="buttons">#}
                                    {#</div>#}
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                <div></div>
            </div>
        </div>
        <div></div>
    </div>
{% endblock %}